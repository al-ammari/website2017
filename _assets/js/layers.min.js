var layers={nsa:{type:1,name:"NSA Internet Interception Site/Suspected NSA Internet Inception Site",active:!1,data:[],location:"USA"},ixp:{type:5,name:"Public Internet Exchange Point (IXP)",active:!1,data:[],location:"Canada"},ipt:{type:6,name:"CIRA/M-Lab Internet Performance Test (IPT) Server",active:!1,data:[],location:"Canada"},att:{type:7,name:"AT&T/Fairview Suspected Surveillance Site",active:!1,data:[],location:"Worldwide"},verizon:{type:8,name:"Verizon/Stormbrew Suspected Surveillance Site",active:!1,data:[],location:"Worldwide"},google:{type:3,name:"Google Data Centre",active:!1,data:[],location:"Worldwide"},ch:{type:2,name:"Carrier Hotel",active:!1,data:[],location:"USA and Canada"},undersea:{type:4,name:"Undersea Cable Landing Point",active:!1,data:[],location:"USA and Canada"}},getLayers=function(){console.log("Loading Layers");var a={action:"getLayers"};jQuery.ajax(url_base+"/application/controller/layers.php",{type:"post",data:a,success:function(a){console.log("Ok! getLayers"),cHotelData=jQuery.parseJSON(a),renderDefaultLaters()},error:function(a){console.log("Error! getLayers",a)}})},renderDefaultLaters=function(){setTimeout(function(){jQuery("#nsa").toggleClass("active"),layers[jQuery("#nsa").data("name")].active=!0,renderGeoMarkers(1),jQuery("#num-active-layers").text(_.filter(layers,{active:!0}).length+" LAYERS")},500)},populateLayersContainer=function(){_.each(layers,function(a,b){var c=jQuery("<a/>");jQuery(c).attr("id",b),c.addClass("layer-btn ui basic yellow fluid toggle button"),c.data("name",b),jQuery(c).append('<div class="legend-item"><img src="_assets/img/icn-map-'+b+'.png" /><p>'+a.name+'<br /><span class="minor">'+a.location+"</span></p></div>"),jQuery(c).click(function(){jQuery(this).toggleClass("active");var a=jQuery(this).attr("id");layers[jQuery(this).data("name")].active===!0?(layers[jQuery(this).data("name")].active=!1,removeGeoMarkers(layers[a].type)):layers[jQuery(this).data("name")].active===!1&&(layers[jQuery(this).data("name")].active=!0,renderGeoMarkers(layers[a].type)),jQuery("#num-active-layers").text(_.filter(layers,{active:!0}).length+" LAYERS")}),jQuery("#layers-container").append(c)})};