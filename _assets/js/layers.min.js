var layers={nsa:{name:"NSA Internet Interception Site/Suspected NSA Internet Inception Site",active:!1,data:[],location:"USA"},ixp:{name:"Public Internet Exchange Point (IXP)",active:!1,data:[],location:"Canada"},ipt:{name:"CIRA/M-Lab Internet Performance Test (IPT) Server",active:!1,data:[],location:"Canada"},att:{name:"AT&T/Fairview Suspected Surveillance Site",active:!1,data:[],location:"Worldwide"},verizon:{name:"Verizon/Stormbrew Suspected Surveillance Site",active:!1,data:[],location:"Worldwide"},google:{name:"Google Data Centre",active:!1,data:[],location:"Worldwide"},undersea:{name:"Undersea Cable Landing Point",active:!1,data:[],location:"USA and Canada"}},getLayers=function(){console.log("Loading Layers");var a={action:"getLayers"};jQuery.ajax(url_base+"/application/controller/layers.php",{type:"post",data:a,success:function(a){console.log("Ok! getLayers"),cHotelData=jQuery.parseJSON(a)},error:function(a){console.log("Error! getLayers",a)}})},populateLayersContainer=function(){_.each(layers,function(a,b){var c=jQuery("<a/>");c.addClass("layer-btn ui basic yellow fluid toggle button"),c.data("name",b),jQuery(c).append('<div class="legend-item"><img src="_assets/img/icn-map-'+b+'.png" /><p>'+a.name+'<br /><span class="minor">'+a.location+"</span></p></div>"),jQuery(c).click(function(){jQuery(this).toggleClass("active"),layers[jQuery(this).data("name")].active===!0?layers[jQuery(this).data("name")].active=!1:layers[jQuery(this).data("name")].active===!1&&(layers[jQuery(this).data("name")].active=!0),jQuery("#num-active-layers").text(_.filter(layers,{active:!0}).length+" LAYERS"),console.log("TODO: render map")}),jQuery("#layers-container").append(c)})};